# Дашборд: ссылки по сотрудникам и проектам за период

## Анализ четырёх таблиц

| Таблица | Лист для данных | Сотрудник | Проект | Дата размещения | Статус |
|--------|------------------|-----------|--------|------------------|--------|
| **[ВНУТРЕННИЙ] MR Anchors Linkbuilding** | СНГ Outreach | Линкбилдер (F) | Проект (D) + Версия (E) | Дата публикации (I) | Status (B) |
| **[ВНУТРЕННИЙ] Основная таблица РФ и СНГ** | Размещенные ссылки | Линкбилдер (D) | Проект (B) + Версия (C) | Дата публикации (G) | — |
| **[ВНУТРЕННИЙ] TelecomAsia Anchors** | Outreach | Linkbuilder (D) | Project (B) + Версия проекта (C) | Date of posting (F) | Status (E) |
| **[ВНУТРЕННИЙ] International Linkbuilding** | Posted links | Linkbuilder (D) | Project (B) + Версия проекта (C) | Date of posting (F) | Status (E) |

Во всех таблицах считаем **одну строку = одно размещение (одна ссылка)**. Для дашборда нужны только строки со статусом «Готово» (или аналог), чтобы не учитывать отменённые/в работе.

---

## Варианты дашборда

### Вариант 1: Веб-дашборд (Streamlit / HTML)

**Что будет на экране:**
- **Фильтры сверху:** выбор периода (неделя / месяц / произвольный диапазон), выбор таблицы или «все 4».
- **Блок 1 — по сотрудникам:** таблица и столбчатая диаграмма: сотрудник → количество размещённых ссылок за период (сумма по всем проектам).
- **Блок 2 — по проектам:** таблица и диаграмма: проект (или проект + версия) → количество ссылок за период.
- **Блок 3 — матрица сотрудник × проект:** таблица: строки — сотрудники, столбцы — проекты, в ячейках — число ссылок за выбранный период.
- **Блок 4 (опционально):** список последних размещений (дата, сотрудник, проект, сайт/материал) с возможностью ограничить по сотруднику или проекту.

**Как будет выглядеть (схема):**
```
┌─────────────────────────────────────────────────────────────┐
│  Период: [Неделя ▼] [Месяц] [С ___ по ___]   Таблицы: [✓ все]│
└─────────────────────────────────────────────────────────────┘
┌──────────────────────────┐  ┌──────────────────────────────┐
│ Ссылок по сотрудникам    │  │  [столбчатая диаграмма]       │
│ Oleg Tsebulevskiy   45   │  │  Oleg ████████ 45             │
│ Feruza Z.           62   │  │  Feruza ███████████ 62        │
│ Tatyana K.          38   │  │  Tatyana ██████ 38            │
│ ...                     │  │  ...                           │
└──────────────────────────┘  └──────────────────────────────┘
┌──────────────────────────┐  ┌──────────────────────────────┐
│ Ссылок по проектам       │  │  [столбчатая или круговая]    │
│ Telecomasia.net KE  120  │  │  Telecomasia ████████          │
│ Metaratings KZ      85   │  │  Metaratings █████             │
│ ...                     │  │  ...                           │
└──────────────────────────┘  └──────────────────────────────┘
┌─ Матрица: сотрудник × проект ───────────────────────────────┐
│             │ MR KZ │ MR BY │ TA KE │ TA ZA │ ... │ Итого   │
│ Oleg T.     │  12   │   8   │  15   │  10   │     │  45     │
│ Feruza Z.   │   5   │   3   │  20   │  34   │     │  62     │
│ ...         │       │       │       │       │     │         │
└─────────────────────────────────────────────────────────────┘
```

Плюсы: полный контроль, можно развернуть у себя (Streamlit или статичный HTML). Минусы: нужно один раз собрать данные из 4 таблиц (скрипт + периодический запуск или ручной экспорт).

---

### Вариант 2: Looker Studio (Google Data Studio)

**Что будет:**
- Подключение к тем же 4 Google Таблицам как к источникам данных.
- Объединение листов (СНГ Outreach, Размещенные ссылки, Outreach, Posted links) в один «логический» набор с общими полями: Сотрудник, Проект, Дата.
- Фильтр по периоду (неделя/месяц/диапазон).
- Отчёты: по сотрудникам, по проектам, матрица сотрудник × проект.

**Как будет выглядеть:** стандартные отчёты Looker Studio — фильтры сверху, таблицы и графики ниже, всё в браузере, обновление при открытии.

Плюсы: без своего кода, автообновление из таблиц. Минусы: нужно вручную настроить источники и маппинг колонок (разные названия полей в разных таблицах).

---

### Вариант 3: Одна сводная Google Таблица + простые графики

**Что будет:**
- Отдельный лист (или отдельная таблица) «Дашборд»: скрипт (Apps Script или внешний скрипт) раз в день/неделю собирает из 4 таблиц строки с «Готово» и пишет в сводный лист с колонками: Дата, Сотрудник, Проект, Источник (какая из 4 таблиц).
- На листе «Дашборд» — формулы и сводные таблицы по периоду (неделя/месяц), по сотрудникам и по проектам.
- Графики в Google Таблице строятся по этим сводным.

**Как будет выглядеть:** один файл/лист с блоками «за неделю», «за месяц», таблицы и 2–3 графика под ними.

Плюсы: всё в экосистеме Google, привычный интерфейс. Минусы: маппинг и скрипт сбора нужно один раз настроить и поддерживать.

---

## Рекомендация

- **Быстро и без кода:** Вариант 2 (Looker Studio) — подключить 4 таблицы, выровнять поля и сделать отчёты по периоду, сотрудникам и проектам.
- **Гибко и у себя:** Вариант 1 (Streamlit) — скрипт читает данные через MCP/API из тех же 4 таблиц, считает агрегаты за выбранную неделю/месяц и рисует дашборд; при необходимости ту же логику можно вынести в HTML/JS.

---

## Что нужно для реализации (Вариант 1 — Streamlit)

1. **Скрипт сбора данных:** по очереди читать из 4 таблиц нужные листы (read_sheet_values по диапазонам с датами), парсить даты, нормализовать имена колонок (Сотрудник, Проект, Дата).
2. **Фильтрация:** оставить только статус «Готово» (или список допустимых статусов), отфильтровать по выбранному периоду (неделя/месяц).
3. **Агрегаты:** количество строк по сотруднику; по проекту; по паре (сотрудник, проект).
4. **Streamlit-страница:** фильтры (период, опционально — какие таблицы учитывать), таблицы и графики (plotly или st.bar_chart).

Если скажешь, какой вариант ближе (1 — свой веб, 2 — Looker, 3 — сводная таблица), могу расписать следующий шаг по нему (структура скрипта, пример запросов к MCP или маппинг полей для Looker).
